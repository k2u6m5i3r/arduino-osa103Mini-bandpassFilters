<!-- # arduino-osa103Mini-bandpassFilters -->
<h1>OSA103 Mini, Arduino, полосовые фильтры - В РАБОТЕ(Черновик)</h1>

<h3>Источники</h3>
    <ul>
        <li> Форум <a href="http://www.cqham.ru/forum/showthread.php?36096-DDC-DUC-%F2%F0%E0%ED%F1%E8%E2%E5%F0-%ED%E0-%E1%E0%E7%E5-OSA103-Mini/">с обсуждением</a> </li>
        <li>Ещё форум где создатель железки модернизирует её. Описание <a href="http://www.cqham.ru/forum/showthread.php?36096-DDC-DUC-%F2%F0%E0%ED%F1%E8%E2%E5%F0-%ED%E0-%E1%E0%E7%E5-OSA103-Mini&p=1450444&viewfull=1#post1450444">протокола</a></li>
        <li>Исходник который переделывал <a href="http://www.cqham.ru/forum/showthread.php?36096-DDC-DUC-%F2%F0%E0%ED%F1%E8%E2%E5%F0-%ED%E0-%E1%E0%E7%E5-OSA103-Mini&p=1459177&viewfull=1#post1459177">ссылка на сообщение и его реализацией</a></li> 
    </ul>
<h3>Описание работы</h3>
<p>Исходный код взял с форума[1]. Сообщение 127[3]. Переделал под себя, используется порт RX для приёма данных по СОМ UART с выхода AUX OUTPUT(на скорости 1М, точное описание в форуме от создателя прибора)</p>
<p>Описание протокола обмена данных 4 байта от младшего к старшему, 5ый байт что передача(0х80), нетт передачи(0х00)[1]</p>
<p>В разработке переключения фильтров использовал Arduino Nano, для обработки данных. Любой AVR  подойдёт с условием обработки данных на скорости СОМ 1М</p>
<p>RX input вход, D2 D3 D4 D5 D6 D8 output выход. Фильтры актавные 0-4МГЦ, 4-8МГЦ, 8-16МГЦ, 16-32МГЦ. и два выхода на светодиодики(частота >32МГц, передача).</p>
<p>Пины использовал RX для приёма данных, D2 - фильтр на 0-4МГц, D3 - фильтр на 4 - 8МГц, D4 - фильтр на 8-16 МГц, D5 - фильтр на 16-32МГц, D6 - уже не фильтр, а сигнал, что частота больше 32МГц, D8 - сигнал что идёт передача</p>
<img src="./arduino-nano_pinout-smail-v2.png" alt="Картинка не загрузилась. Схема подключения, распиновка">
<h3>P.S. Ошибки, недочёты</h3>
<p>В папке (bandcoder-LCD) черновик с выводом часоты на экран LCD1602, тестирование проводил с на этом скетче.</p>
<p>Тестировали на программе HDSDR, при переходе между фильтрами есть ошибка при установке частоты, которая увеличивается. Т.е. переключение происходит не на частоте которая используется, а с небольшой разбежкой. которая увеличивается постепенно.</p>
<p>Использовалась в коде корректировка частоты, но не помогает так как ошибка возрастает нелинейно.</p>
<h3>Лицензия</h3>
<p>Используйте как хотите. В любом коде могут быть ошибки... Сам не разработчик железa.</p>